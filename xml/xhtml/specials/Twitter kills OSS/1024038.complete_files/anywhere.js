(function(){var A="twttr_anywhere",P="twttr_signed_out";var D,F=0;function K(){try{var d=document.getElementsByTagName("script")}catch(m){var d=[]}var o,b,c={};for(var k=0,l=d.length;k<l;k++){o=d[k];if(o.src.indexOf("/anywhere.js?")>-1){b=o}}if(b){var n=b.src.split("?").pop();if(n.indexOf("=")>0){var a=n.split("&"),h;for(var g=0;(h=a[g]);g++){var f=h.split("="),q=f[0],p=f[1];if(q=="id"){c.clientID=p}if(q=="v"){c.version=p}}}else{c.clientID=n}}return c}var T=(function(){var b,e,d;function c(g){var l=d.childNodes,k,j=null;for(var h=0,f=l.length;h<f;h++){k=l.item(h);if(k.getAttribute("key")==g){j=k;break}}return j}var a={isExpired:function(f){if(f.match(/_expiry$/)){return false}var g=this.get(f+"_expiry");return(g&&(new Date()).getTime()>g)},setExpiry:function(g,f){this.set(g+"_expiry",(new Date()).getTime()+(1000*60*60*f))},setWithExpiry:function(g,h,f){this.setExpiry(g,f);this.set(g,h)},expire:function(f){this.del(f);this.del(f+"_expiry")}};if((b=window.localStorage)){a.get=function(f){if(this.isExpired(f)){this.expire(f);return null}else{return b[f]}};a.set=function(f,g){return(b[f]=g)};a.del=function(f){b.removeItem(f)};a.getAll=function(k){var j=-1,h,f=localStorage.length,g={};while(++j<f){h=localStorage.key(j);if(typeof k=="undefined"||h.match(k)){g[h]=localStorage.getItem(h)}}return g};return a}else{if(document.documentElement.addBehavior){b=document.documentElement;b.addBehavior("#default#userData");b.load("twitter-anywhere");e=b.xmlDocument;d=e.documentElement;function c(g){var l=d.childNodes,k,j=null;for(var h=0,f=l.length;h<f;h++){k=l.item(h);if(k.getAttribute("key")==g){j=k;break}}return j}a.get=function(f){var h,g=null;if(this.isExpired(f)){this.expire(f)}else{h=c(f);if(h){g=h.getAttribute("value")}}return g};a.set=function(f,h){var g=c(f);if(!g){g=e.createNode(1,"item","");g.setAttribute("key",f);g.setAttribute("value",h);d.appendChild(g)}else{g.setAttribute("value",h)}b.save("twitter-anywhere");return h};a.del=function(f){var g=c(f);if(g){d.removeChild(g)}b.save("twitter-anywhere")};a.clear=function(){while(d.firstChild){d.removeChild(d.firstChild)}b.save("twitter-anywhere")};a.getAll=function(l){var k=d.childNodes,j=-1,f=k.length,h={},m,g;while(++j<f){m=k.item(j);g=m.getAttribute("key");if(typeof l=="undefined"||g.match(l)){h[g]=m.getAttribute("value")}}return h};return a}}}());function O(a){var b=[twttr.anywhere._assetUrl()];if(a.indexOf("_dev")!==0){b=b.concat([a])}return b.concat("javascripts/client.js").join("/")}function M(b){var d=location.href.split("#");var a=d.pop();var c=new RegExp(b+"=(.+?)(&|$)");if(a.indexOf(b)!=-1){return a.match(c)[1]}}function R(){var a;if(T&&(a=T.get(A))){return a}}function Q(d){var b=d._clients,e=M("bridge_code");for(var c=0,a=b.length;c<a;c++){b[c]._fireAuthComplete(e)}}function I(d){var b=d._clients;for(var c=0,a=b.length;c<a;c++){b[c]._fireSignOut()}}function S(){var b=null;if((b=M("oauth_access_token"))){var a=window.opener||window.parent;if(a&&a.parent.twttr){a.parent.twttr.anywhere._setToken(b);Q(a.parent.twttr.anywhere);if(window.opener){window.close();if(window.self){window.self.close()}}return"callback_new_window"}else{if(window.parent!=window&&window.parent&&window.parent.twttr){window.parent.parent.twttr.anywhere._setToken(b);Q(window.parent.parent.twttr.anywhere);window.parent.parent.twttr.anywhere._removeHeadlessAuth();return"headless"}else{twttr.anywhere._setToken(b);Q(window.parent.parent.twttr.anywhere);setTimeout(function(){window.location.hash=""},100);return"callback_same_window"}}}if(M("oauth_error_reason")){window.parent.parent.twttr.anywhere._removeHeadlessAuth();return"headless"}try{window.parent.parent.twttr.anywhere._removeHeadlessAuth()}catch(c){}if((b=R())){twttr.anywhere._setToken(b);return"cookie"}}function E(b,c){for(var a in c){b[a]=c[a]}return b}function Z(b,a){return function(){return a.apply(b,arguments)}}var Y=navigator.userAgent.toLowerCase();var N=(/msie/gi.test(Y)&&!/opera/gi.test(Y));var H='<iframe tabindex="-1" role="presentation" style="position:absolute;top:-9999px;" '+(N?"src=\"javascript:''\"":"")+" />";function G(a){var d=document.createElement("div");d.innerHTML=H;var b=d.firstChild,c=Z(b,a);if(N){b.attachEvent("onload",c)}else{b.addEventListener("load",c,false)}document.body.insertBefore(b,document.body.firstChild);return b}function W(a){throw (a)}function X(a,c,b){if(!a._initCallbacks){a._initCallbacks=[]}a._initCallbacks.push([c,b])}function C(f,h,e){var b=e.version;var a=f.contentWindow,g=e.window;var c=a.document.createElement("script");var d=O(b);f.id="_twttr_anywhere_client_"+b;X(a,h,e);a._VERSION=b;a._URL=d;c.type="text/javascript";c.src=d;a.document.getElementsByTagName("head")[0].appendChild(c);return c}function V(a,c){if(document.body){var b=twttr.anywhere._instances;b[a.version]=G(function(){C(this,c,a)})}else{setTimeout(function(){V(a,c)},20)}}function J(){var a;if((a=navigator.userAgent.match(/Firefox\/(\d)/))&&parseInt(a[1],10)<3){return true}}window.twttr=window.twttr||{};twttr.anywhere=function(c,e){if(J()||D=="callback"||D=="headless"){return }if(typeof c=="function"){e=c;c=twttr.anywhere._config.defaultVersion}if(!twttr.anywhere._config.clientID){return W("To set up @anywhere, please provide a client ID")}var b;var d=twttr.anywhere._instances;if(typeof c==="string"||typeof c==="number"){c={version:c}}var a=(c.version)?c.version.toString():twttr.anywhere._config.defaultVersion;c.version=twttr.anywhere._getVersion(a);if(!c.version){return W("No @anywhere version matching "+a)}c=E({window:window},c);if((b=d[c.version])){if(b.contentWindow._ready){b.contentWindow._init(e,c)}else{X(b.contentWindow,e,c)}}else{V(c,e)}};E(twttr.anywhere,{versions:["_dev","chirp_preview","pre","1","1.1"],_instances:{},_clients:[],_config:{defaultVersion:"1",assetHost:"platform{i}.twitter.com",secureAssetHost:"twitter-any.s3.amazonaws.com",baseHost:"twitter.com",serverHost:"api.twitter.com",serverPath:"xd_receiver.html",oauthHost:"oauth.twitter.com",ignoreSSL:false},_getVersion:function(b){if(!b){return null}b=b.toString();var e=[];for(var c=0,a;(a=twttr.anywhere.versions[c]);c++){if(a.indexOf(b)===0){e.push(a)}}function d(g,f){if(g.match(/[a-z]/)){return -1}return 1}return e.sort(d)[e.length-1]},config:function(a){if(typeof a==="string"){this._config.clientID=a;return this._config}return E(this._config,a||{})},signOut:function(){I(this);if(T){T.set(P,"true")}},_removeToken:function(){this.token=null;if(T){T.expire(A)}},_setToken:function(b){var a;this.token=b;var c=T&&T.get(A);if(T&&(c!=""||!c)){T.setWithExpiry(A,b,2);T.expire(P)}},_removeHeadlessAuth:function(){if(this._headlessAuthWindow){this._headlessAuthWindow.parentNode.removeChild(this._headlessAuthWindow);this._headlessAuthWindow=null}},_signedOutFlagPresent:function(){return T&&T.get(P)=="true"},_proto:function(a){return(window.location.protocol.match(/s\:$/)||a)&&!twttr.anywhere._config.ignoreSSL?"https":"http"},_serverUrl:function(a){if(twttr.anywhere._config.serverHost){return this._proto(a)+"://"+[twttr.anywhere._config.serverHost,twttr.anywhere._config.serverPath].join("/")}},_assetUrl:function(b){var d=this._proto(b);var c=(d=="https")?twttr.anywhere._config.secureAssetHost:twttr.anywhere._config.assetHost;var a=c.replace("{i}",F++);if(F==3){F=0}return d+"://"+a},_baseUrl:function(a){return this._proto(a)+"://"+twttr.anywhere._config.baseHost},_oauthUrl:function(a){return this._proto(a)+"://"+twttr.anywhere._config.oauthHost+"/2"}});D=S();var U=K();var L=U.clientID;var B=U.version;if(L){twttr.anywhere._config.clientID=L}if(B){twttr.anywhere._config.defaultVersion=B}twttr.anywhere._signedOutCookiePresent=twttr.anywhere._signedOutFlagPresent}());